{"ast":null,"code":"var _jsxFileName = \"/Users/shadyd0ta/Documents/PokemonLibrary/src/pages/AddNewPokemonPage.js\";\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport PokemonTitle from '../components/ApplicationName/PokemonTitle';\nimport LookupBox from '../components/LookupBox';\nimport Card from '../components/Card/Card';\nimport Clock from '../components/Clock';\nimport { pokemons } from '../components/Pokemon';\nimport useFetch from '../components/useFetch';\nexport const AddNewPokemonPage = () => {\n  const [pokemonsArray, setPokemons] = useState(pokemons);\n  const [searchField, setSearchField] = useState('');\n  const [currentPage, setCurrentPage] = useState(true);\n  const [searchDebounce, setSearchDebouce] = useState('');\n  const [isAdded, setIsAdded] = useState(false);\n  const [id, setId] = useState(21);\n  const [isExisted, setIsExisted] = useState(false);\n  const history = useHistory();\n  var {\n    notFound,\n    data,\n    error\n  } = useFetch(searchDebounce ? `https://pokeapi.co/api/v2/pokemon/${searchDebounce.toLowerCase()}` : '');\n\n  function onSubmit(e) {\n    //this will only allow to search once\n    // e.preventDefault();\n    if (pokemonsArray.filter(pokemon => pokemon.name.toLowerCase() === searchDebounce.toLowerCase()).length !== 0) {\n      setIsExisted(true);\n      setSearchDebouce('');\n    } else {\n      setSearchDebouce(searchField);\n      setIsAdded(false);\n    }\n  }\n\n  function onKeyDetect(e) {\n    if (e.key === 'Enter') {\n      onSubmit();\n    }\n  }\n\n  function handleSubmit() {\n    if (!isExisted) {\n      var obj = {\n        id: `${id}`,\n        name: `${data.name.charAt(0).toUpperCase() + data.name.slice(1)}`,\n        img: `${data.sprites.other[\"official-artwork\"].front_default}`\n      };\n      setIsAdded(true);\n      setPokemons(pokemonsArray.concat(obj));\n      setId(id + 1);\n    }\n  }\n\n  const onBackButtonClicked = () => {\n    setCurrentPage(true);\n    history.push(\"/\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onKeyDown: onKeyDetect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Clock, {\n    className: \"db\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(PokemonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, \"Add New Pokemon to page\"), /*#__PURE__*/React.createElement(LookupBox, {\n    searchChange: e => {\n      setSearchField(e.target.value);\n      setIsExisted(false);\n    },\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }), notFound && error ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dark-red\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 6\n    }\n  }, \"Cannot find pokemon name \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 55\n    }\n  }, searchField)) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 6\n    }\n  }, data && searchDebounce ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 8\n    }\n  }, isAdded ? /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"button-fadeOut\",\n    className: `f4 fw-3 washed-red`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 10\n    }\n  }, \"Added!\") : /*#__PURE__*/React.createElement(Card, {\n    key: id,\n    name: data.name.charAt(0).toUpperCase() + data.name.slice(1),\n    img: data.sprites.other[\"official-artwork\"].front_default,\n    currentPage: currentPage,\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 10\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 8\n    }\n  }, isExisted ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dark-red\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 34\n    }\n  }, searchField), \" is already existed in the database\") : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 10\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"absolute right-0 bottom-0 dib dim pointer f2 bg-moon-gray br3\",\n    onClick: onBackButtonClicked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, \"Back\")));\n};","map":{"version":3,"sources":["/Users/shadyd0ta/Documents/PokemonLibrary/src/pages/AddNewPokemonPage.js"],"names":["React","useState","useEffect","useHistory","PokemonTitle","LookupBox","Card","Clock","pokemons","useFetch","AddNewPokemonPage","pokemonsArray","setPokemons","searchField","setSearchField","currentPage","setCurrentPage","searchDebounce","setSearchDebouce","isAdded","setIsAdded","id","setId","isExisted","setIsExisted","history","notFound","data","error","toLowerCase","onSubmit","e","filter","pokemon","name","length","onKeyDetect","key","handleSubmit","obj","charAt","toUpperCase","slice","img","sprites","other","front_default","concat","onBackButtonClicked","push","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {useState, useEffect } from 'react';\nimport {useHistory} from 'react-router-dom';\nimport PokemonTitle from '../components/ApplicationName/PokemonTitle';\nimport LookupBox from '../components/LookupBox';\nimport Card from '../components/Card/Card';\nimport Clock from '../components/Clock';\nimport { pokemons } from '../components/Pokemon';\nimport useFetch from '../components/useFetch';\n\nexport const AddNewPokemonPage = () => {\n\tconst [pokemonsArray, setPokemons] = useState(pokemons);\n\tconst [searchField, setSearchField] = useState('');\n\tconst [currentPage, setCurrentPage] = useState(true);\n\tconst [searchDebounce, setSearchDebouce] = useState('');\n\tconst [isAdded, setIsAdded] = useState(false);\n\tconst [id, setId] = useState(21);\n\tconst [isExisted, setIsExisted] = useState(false);\n\n\tconst history = useHistory();\n\n\tvar {notFound, data, error} = useFetch(\n\t\tsearchDebounce? \n\t\t\t`https://pokeapi.co/api/v2/pokemon/${searchDebounce.toLowerCase()}`\n\t\t:\n\t\t\t''\n\t)\n\n\tfunction onSubmit(e){\n\t\t//this will only allow to search once\n\t\t// e.preventDefault();\n\t\tif (pokemonsArray.filter(pokemon => pokemon.name.toLowerCase() === searchDebounce.toLowerCase()).length !== 0){\n\t\t\tsetIsExisted(true);\n\t\t\tsetSearchDebouce('');\n\t\t} else{\n\t\t\tsetSearchDebouce(searchField);\n\t\t\tsetIsAdded(false);\n\t\t}\n\t}\n\n\tfunction onKeyDetect(e){\n\t\tif (e.key === 'Enter'){\n\t\t\tonSubmit();\n\t\t}\n\t}\n\n\tfunction handleSubmit(){\n\t\tif (!isExisted){\n\t\t\tvar obj = {\n\t\t\t\tid: `${id}`,\n\t\t\t\tname: `${data.name.charAt(0).toUpperCase() + data.name.slice(1)}`,\n\t\t\t\timg: `${data.sprites.other[\"official-artwork\"].front_default}`\n\t\t\t}\n\t\t\tsetIsAdded(true);\n\t\t\tsetPokemons(pokemonsArray.concat(obj));\n\t\t\tsetId(id+1);\n\t\t}\n\t}\n\n\tconst onBackButtonClicked = () => {\n\t\tsetCurrentPage(true);\n\t\thistory.push(\"/\");\n\t}\n\n\treturn (\n\t\t<div onKeyDown={onKeyDetect}>\n\t\t\t<div>\n\t\t\t\t<Clock className='db'/>\n\t\t\t</div>\n\t\t\t<div className = 'tc'>\n\t\t\t\t<PokemonTitle/>\n\t\t\t\t<h2>Add New Pokemon to page</h2>\n\t\t\t\t{/*accept input here and retrieve data from api*/}\n\t\t\t\t<LookupBox\n\t\t\t\t\tsearchChange={(e) => {\n\t\t\t\t\t\tsetSearchField(e.target.value)\n\t\t\t\t\t\tsetIsExisted(false)\t\t\t\t\t\t\n\t\t\t\t\t}}\n\t\t\t\t\tonSubmit={onSubmit}\n\t\t\t\t/>\n\t\t\t\t{notFound && error ?\n\t\t\t\t\t<p className=\"dark-red\">Cannot find pokemon name <b>{searchField}</b></p>\n\t\t\t\t\t:\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{data && searchDebounce?\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{isAdded?\n\t\t\t\t\t\t\t\t\t<h3 id=\"button-fadeOut\" className={`f4 fw-3 washed-red`}>Added!</h3>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<Card \n\t\t\t\t\t\t\t\t\t\tkey={id} \n\t\t\t\t\t\t\t\t\t\tname={data.name.charAt(0).toUpperCase() + data.name.slice(1)} \n\t\t\t\t\t\t\t\t\t\timg ={data.sprites.other[\"official-artwork\"].front_default}\n\t\t\t\t\t\t\t\t\t\tcurrentPage= {currentPage}\n\t\t\t\t\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{isExisted?\n\t\t\t\t\t\t\t\t\t<p className=\"dark-red\"><b>{searchField}</b> is already existed in the database</p>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\n\t\t\t\t}\n\t\t\t\t<button \n\t\t\t\t\tclassName='absolute right-0 bottom-0 dib dim pointer f2 bg-moon-gray br3'\n\t\t\t\t\tonClick={onBackButtonClicked}\n\t\t\t\t>Back\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t)\n}"]},"metadata":{},"sourceType":"module"}